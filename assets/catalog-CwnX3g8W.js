const E=()=>{console.log("[FOCUS] Initializing Catalog Logic...");const n=document.getElementById("catalog-grid");if(!n)return;const u=Array.from(document.querySelectorAll(".product-item")),m=document.getElementById("search-input"),p=document.querySelectorAll(".filter-category-btn"),y=document.querySelectorAll(".filter-category-link"),h=document.querySelectorAll(".sort-btn"),d=document.getElementById("js-no-results"),s=document.getElementById("category-label"),a=document.getElementById("sort-label");let c="all",f="";const g=()=>{let t=0;u.forEach(e=>{const r=e.dataset.category,o=e.dataset.name||"",l=c==="all"||r===c,i=o.includes(f.toLowerCase());l&&i?(e.style.display="",t++):e.style.display="none"}),d&&(t===0?(d.classList.remove("hidden"),n.classList.add("hidden")):(d.classList.add("hidden"),n.classList.remove("hidden")))},C=t=>{u.sort((r,o)=>{const l=parseFloat(r.dataset.price||"0"),i=parseFloat(o.dataset.price||"0");return t==="price_asc"?l-i:t==="price_desc"?i-l:0}).forEach(r=>n.appendChild(r)),a&&(t==="price_asc"?a.textContent="Prix croissant":t==="price_desc"?a.textContent="Prix décroissant":a.textContent="Pertinence")};m&&m.addEventListener("input",t=>{f=t.target.value,g()}),p.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const r=e.currentTarget;c=r.dataset.category||"all",s&&(s.textContent=r.textContent?.trim()||"Catégories"),g()})}),y.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const r=e.currentTarget;c=r.dataset.category||"all",s&&(s.textContent=r.textContent?.trim()||"Filtré"),g(),window.scrollTo({top:n.offsetTop-100,behavior:"smooth"})})}),h.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const o=e.currentTarget.dataset.sort||"default";C(o)})})};export{E as initCatalog};
